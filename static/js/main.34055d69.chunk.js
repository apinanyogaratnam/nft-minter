(this["webpackJsonpnft-minter"]=this["webpackJsonpnft-minter"]||[]).push([[0],{175:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),c=a(77),s=a.n(c),i=(a(84),a(0)),l=a.n(i),o=a(2),u=a(5),b=(a(86),a(30)),d=a.n(b),j=a(78),p=a.n(j),h=(a(105),a(41)),m=a(1);var f=function(){var e=a(151),t="b09a2a15-05c4-49ec-8807-ac87de9e6e0d",r=new e(t),c=Object(n.useState)(null),s=Object(u.a)(c,2),i=s[0],b=s[1],j=Object(n.useState)(null),f=Object(u.a)(j,2),O=f[0],x=f[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),y=g[0],S=g[1],k=Object(n.useState)(""),N=Object(u.a)(k,2),C=N[0],I=N[1],w=Object(n.useState)(""),_=Object(u.a)(w,2),F=_[0],J=_[1],T=Object(n.useState)(""),z=Object(u.a)(T,2),D=z[0],M=z[1],V=Object(n.useState)(""),Y=Object(u.a)(V,2),Z=Y[0],Q=Y[1],U=Object(n.useState)(null),q=Object(u.a)(U,2),A=q[0],B=q[1],G={name:"test_stream",profiles:[{name:"720p",bitrate:2e6,fps:30,width:1280,height:720},{name:"480p",bitrate:1e6,fps:30,width:854,height:480},{name:"360p",bitrate:5e5,fps:30,width:640,height:360}],record:!0},W=function(){var e=Object(o.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://livepeer.com/api/session?limit=20&parentId=".concat(i.id),e.next=3,d.a.get(a,{headers:{Authorization:"Bearer ".concat(t)}});case 3:if(0!==(n=e.sent).data.length){e.next=7;break}return alert("No stream detected"),e.abrupt("return");case 7:x(n.data[0].mp4Url),""===O&&alert("stream is currently processing");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,r,c,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==O){e.next=4;break}return alert("Stream is currently processing"),e.abrupt("return");case 4:if(null!==O){e.next=7;break}return alert("No stream detected"),e.abrupt("return");case 7:return alert("Stream is being minted"),"a04ed61c-2af0-409a-a895-b5a5b9b0134c","https://api.nftport.xyz/v0/mints/easy/urls",a={chain:"rinkeby",name:C,description:F,file_url:O,mint_to_address:D},n={headers:{Authorization:"a04ed61c-2af0-409a-a895-b5a5b9b0134c"}},e.next=14,d.a.post("https://api.nftport.xyz/v0/mints/easy/urls",a,n);case 14:if(200!==(r=e.sent).status){e.next=32;break}return alert("Successfully minted stream"),I(""),J(""),M(""),Q(r.data.transaction_external_url),c=new h.b({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweGI4QTMzYWUyYmU5M0ZhY0VCRkI4NTEzMTFjNmIxZDVFQWFCNDVCMTciLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTYzNjc1NDc2ODQ4NiwibmFtZSI6IndlYjMgamFtIGFwaSBrZXkifQ.k7Y9GIZHUKmOCvYAuXy3NiibSENX0pzSoGKVDYCp7Pg"}),e.next=24,c.storeBlob(new h.a([{chain:r.data.chain,contract_address:r.data.contract_address,transaction_hash:r.data.transaction_hash,description:r.data.description,address:r.data.mint_to_address}]));case 24:return e.sent,s="https://api.covalenthq.com/v1/1/address/"+D+"/transactions_v2/?quote-currency=USD&format=JSON&block-signed-at-asc=false&no-logs=false&key=ckey_a68a3ef0bd3c40d68fb137483f3",e.next=28,d.a.get(s);case 28:i=e.sent,B(i.data.data),e.next=33;break;case 32:alert("Error minting stream");case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("div",{className:"stream-url-text-box",children:["Stream url: ",""!==O&&null!==O?Object(m.jsx)("b",{children:O}):""===O?Object(m.jsx)("b",{children:"stream currently processing"}):Object(m.jsx)("b",{children:"No streams created"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:function(){r.Stream.create(G).then((function(e){b(e),S(!0)}))},children:"Stream Video"}),i?Object(m.jsxs)("p",{children:["stream key: ",i.streamKey," server: rtmp://rtmp.livepeer.com/live (plug into streaming software)"]}):null,y?Object(m.jsx)("button",{onClick:W,children:"Play Stream"}):null,Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"video-container",children:""!==O&&null!=O?Object(m.jsx)(p.a,{src:O}):Object(m.jsx)("h3",{children:"video will appear here"})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),""!==Z?Object(m.jsx)("a",{href:Z,target:"_blank",children:"View NFT"}):null,Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("form",{children:[Object(m.jsx)("input",{value:C,type:"text",placeholder:"Name of NFT",onChange:function(e){return I(e.target.value)},name:"nameOfNft",required:!0}),Object(m.jsx)("input",{value:F,type:"text",placeholder:"Description of NFT",onChange:function(e){return J(e.target.value)},name:"descriptionOfNft",required:!0}),Object(m.jsx)("input",{value:D,type:"text",placeholder:"Wallet Address",onChange:function(e){return M(e.target.value)},name:"address",required:!0}),Object(m.jsx)("button",{onClick:X,children:"Mint Video"})]}),null!==A?Object(m.jsx)("p",{children:JSON.stringify(A)}):null,null!==A?Object(m.jsx)("button",{onClick:function(){navigator.clipboard.writeText(JSON.stringify(A))},children:"Copy Data"}):null]})},O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,176)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root")),O()},84:function(e,t,a){},86:function(e,t,a){}},[[175,1,2]]]);
//# sourceMappingURL=main.34055d69.chunk.js.map